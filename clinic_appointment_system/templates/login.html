{% extends 'base.html' %}

{% block content %}
<h2>Login</h2>
<form method="post" action="">
    {% csrf_token %}
    <label for="username">Username:</label>
    <input type="text" name="username" required><br>
    <label for="password">Password:</label>
    <input type="password" name="password" required><br>
    <button type="submit">Login</button>
</form>
<button id="signup-btn">Signup</button>

<div id="signup-popup" style="display:none;">
    <h2>Signup</h2>
    <form method="post" id="signup-form" action="{% url 'signup' %}">
        {% csrf_token %}
        <label for="first_name">First Name*:</label>
        <input type="text" name="first_name" required><br>
        <label for="last_name">Last Name*:</label>
        <input type="text" name="last_name" required><br>
        <label for="gender">Gender*:</label>
        <select name="gender" required>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Others">Others</option>
        </select><br>
        <label for="dob">Date of Birth:</label>
        <input type="date" name="dob"><br>
        <label for="age">Age*:</label>
        <input type="number" name="age" required readonly><br>
        <label for="address">Address*:</label>
        <input type="text" name="address" required><br>
        <label for="contact_number">Contact Number*:</label>
        <input type="text" name="contact_number" required><br>
        <label for="email">Email ID*:</label>
        <input type="email" name="email" required><br>
        <button type="submit">Signup</button>
    </form>
</div>

<script>
    document.getElementById('signup-btn').onclick = function() {
        document.getElementById('signup-popup').style.display = 'block';
    };
    document.querySelector('input[name="dob"]').onchange = function() {
        const dob = new Date(this.value);
        const age = new Date().getFullYear() - dob.getFullYear();
        document.querySelector('input[name="age"]').value = age;
    };
</script>
{% endblock %}
